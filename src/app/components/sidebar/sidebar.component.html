<div class="app-layout h-100">
  <mat-drawer-container class="h-100"
    [ngClass]="{'mat-drawer-expanded': sidebarService.isSidebarExpanded(),'sidebar-handset':layoutService.isHandset()}">
    <mat-drawer [mode]="layoutService.isHandset()?'over':'side'" [opened]="!layoutService.isHandset()" #sidebarDrawer>
      <div class="sidebar-brand">
        <div class="logo ml-10">
          <svg width="200px" height="200px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M18.5708 20C19.8328 20 20.8568 18.977 20.8568 17.714V13.143L21.9998 12L20.8568 10.857V6.286C20.8568 5.023 19.8338 4 18.5708 4M5.429 4C4.166 4 3.143 5.023 3.143 6.286V10.857L2 12L3.143 13.143V17.714C3.143 18.977 4.166 20 5.429 20M7.5 12H7.51M12 12H12.01M16.5 12H16.51M8 12C8 12.2761 7.77614 12.5 7.5 12.5C7.22386 12.5 7 12.2761 7 12C7 11.7239 7.22386 11.5 7.5 11.5C7.77614 11.5 8 11.7239 8 12ZM12.5 12C12.5 12.2761 12.2761 12.5 12 12.5C11.7239 12.5 11.5 12.2761 11.5 12C11.5 11.7239 11.7239 11.5 12 11.5C12.2761 11.5 12.5 11.7239 12.5 12ZM17 12C17 12.2761 16.7761 12.5 16.5 12.5C16.2239 12.5 16 12.2761 16 12C16 11.7239 16.2239 11.5 16.5 11.5C16.7761 11.5 17 11.7239 17 12Z"
              fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
          </svg>
        </div>
        <div class="sidebar-title expanded-visible">
          <span class="syncopate">Template</span>
        </div>
      </div>
      <mat-divider></mat-divider>
      <div class="sidebar-content">

        <mat-nav-list>
          <a mat-list-item routerLink="/pages" routerLinkActive="active-menu"
            [routerLinkActiveOptions]="{exact: true}"><mat-icon matListItemIcon>space_dashboard</mat-icon> Dashboard</a>
          <a mat-list-item routerLink="/pages/components" routerLinkActive="active-menu"
            [routerLinkActiveOptions]="{exact: true}"><mat-icon matListItemIcon>stacks</mat-icon> Components</a>
        </mat-nav-list>

        <div class="sidebar-footer">
          <div class="sidebar-footer-item">
            <button mat-icon-button (click)="toggleTheme()">
              @if (themeService.darkMode()){
              <iconify-icon icon="line-md:sunny-outline-to-moon-loop-transition"></iconify-icon>
              } @else {
              <iconify-icon icon="line-md:moon-to-sunny-outline-loop-transition"></iconify-icon>
              }
            </button>
            <span class="expanded-visible text-nowrap">{{themeService.darkMode() ? 'Dark':'Light'}} Mode</span>
          </div>
          <div class="sidebar-footer-item">
            <button mat-icon-button (click)="openDialog('0ms', '0ms')">
              <iconify-icon icon="line-md:cog-loop"></iconify-icon>
            </button>
            <span class="expanded-visible">Settings</span>
          </div>
          <div class="sidebar-footer-item">
            <button mat-icon-button (click)="logout()">
              <iconify-icon icon="line-md:logout"></iconify-icon>
            </button>
            <span class="expanded-visible">Logout</span>
          </div>
        </div>
      </div>
    </mat-drawer>
    <mat-drawer-content>
      <div class="layout-header">
        <app-toolbar (toggleSidebar)="updateSidebar()">
          <header-title>{{ layoutService.currentPageTitle() }}</header-title>
        </app-toolbar>
      </div>
      <div class="layout-content">
        <router-outlet></router-outlet>
      </div>
    </mat-drawer-content>
  </mat-drawer-container>
</div>
